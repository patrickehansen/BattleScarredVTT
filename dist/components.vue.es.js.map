{"version":3,"file":"components.vue.es.js","sources":["../plugin-vue:export-helper","../src/components/parts/Header.vue","../src/components/parts/Tabs.vue","../src/components/methods/ItemOperations.mjs","../src/components/parts/ActorFeatures.vue","../src/components/parts/Tab.vue","../src/components/methods/Events.mjs","../src/components/methods/Helpers.mjs","../src/components/tabs/Features.vue","../src/components/parts/Editor.vue","../src/components/tabs/Bio.vue","../src/components/tabs/Items.vue","../src/components/tabs/Spells.vue","../module/helpers/effects.mjs","../src/components/tabs/ActiveEffects.vue","../src/components/CharacterSheet.vue"],"sourcesContent":["\nexport default (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n}\n","<template>\r\n  <header class=\"sheet-header\">\r\n    <img :src=\"actor.img\" :alt=\"actor.name\" class=\"profile-img\" height=\"100\" width=\"100\"/>\r\n    <div class=\"header-fields\">\r\n      <h1 class=\"charname\">\r\n        <input type=\"text\" name=\"name\" v-model=\"actor.name\" placeholder=\"Name\"/>\r\n      </h1>\r\n      <div class=\"resources grid grid-3col\">\r\n\r\n        <div class=\"resource flex-group-center\">\r\n          <label for=\"data.health.value\" class=\"resource-label\">Health</label>\r\n          <div class=\"resource-content flexrow flex-center flex-between\">\r\n          <input type=\"text\" name=\"data.health.value\" v-model=\"data.health.value\" data-dtype=\"Number\"/>\r\n          <span> / </span>\r\n          <input type=\"text\" name=\"data.health.max\" v-model=\"data.health.max\" data-dtype=\"Number\"/>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"resource flex-group-center\">\r\n          <label for=\"data.aether.value\" class=\"resource-label\">Aether</label>\r\n          <div class=\"resource-content flexrow flex-center flex-between\">\r\n          <input type=\"text\" name=\"data.aether.value\" v-model=\"data.aether.value\" data-dtype=\"Number\"/>\r\n          <span> / </span>\r\n          <input type=\"text\" name=\"data.aether.max\" v-model=\"data.aether.max\" data-dtype=\"Number\"/>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Header',\r\n  props: ['actor'],\r\n  computed: {\r\n    data() {\r\n      return this.actor.system;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","<template>\r\n  <nav :class=\"'sheet-tabs tabs tabs--' + group\" :data-group=\"group\">\r\n    <a v-for=\"(tab, tabKey) in tabs\" :key=\"'tab-' + group + '-' + tabKey\" @click=\"changeTab\" :class=\"getTabClass(tab, tabKey)\" :data-tab=\"tabKey\">{{tab.label}}</a>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Tabs',\r\n  props: ['context', 'actor', 'group', 'tabs'],\r\n  data() {\r\n    return {\r\n      currentTab: 'features'\r\n    }\r\n  },\r\n  methods: {\r\n    changeTab(event) {\r\n      // If this was a click, update the default tab.\r\n      if (event && event.currentTarget) {\r\n        let $target = $(event.currentTarget);\r\n        this.currentTab = $target.data('tab');\r\n      }\r\n\r\n      // Update the tab displays.\r\n      for (let [k,v] of Object.entries(this.tabs)) {\r\n        this.tabs[k].active = false;\r\n      }\r\n\r\n      // Update the active tab display.\r\n      this.tabs[this.currentTab].active = true;\r\n    },\r\n    getTabClass(tab, index) {\r\n      return `item ${tab.active ? ' active': ''}`;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","export function getItem(actorId, itemId) {\r\n  const actor = game.actors.get(actorId);\r\n  if (actor) {\r\n    const item = actor.items.get(itemId);\r\n    if (item) return item;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport async function itemCreate(actorId, itemBase) {\r\n  const actor = game.actors.get(actorId);\r\n  if (!actor) return false;\r\n  return await Item.create(itemBase, {parent: actor});\r\n}\r\n\r\nexport function itemEdit(actorId, itemId) {\r\n  const item = getItem(actorId, itemId);\r\n  if (item) item.sheet.render(true);\r\n}\r\n\r\nexport function itemDelete(actorId, itemId) {\r\n  const item = getItem(actorId, itemId);\r\n  if (item) item.delete();\r\n}","<template>\r\n  <ol class=\"items-list\">\r\n    <li class=\"item flexrow items-header\">\r\n      <div class=\"item-name\">Name</div>\r\n      <div class=\"item-controls\">\r\n        <a @click=\"itemCreate(context.actor._id, itemBase)\" class=\"item-control item-create\" title=\"Create item\" data-type=\"feature\"><i class=\"fas fa-plus\"></i> Add item</a>\r\n      </div>\r\n    </li>\r\n    <li v-for=\"(item, id) in context.features\" :key=\"'data.features.' + id\" class=\"item flexrow\" :data-item-id=\"item._id\">\r\n      <div class=\"item-name\">\r\n        <div class=\"item-image\">\r\n          <a class=\"rollable\" data-roll-type=\"item\"><img :src=\"item.img\" :title=\"item.name\" width=\"24\" height=\"24\"/></a>\r\n        </div>\r\n        <h4>{{item.name}}</h4>\r\n      </div>\r\n      <div class=\"item-controls\">\r\n        <a @click=\"itemEdit(context.actor._id, item._id)\" class=\"item-control item-edit\" title=\"Edit Item\"><i class=\"fas fa-edit\"></i></a>\r\n        <a @click=\"itemDelete(context.actor._id, item._id)\" class=\"item-control item-delete\" title=\"Delete Item\"><i class=\"fas fa-trash\"></i></a>\r\n      </div>\r\n    </li>\r\n  </ol>\r\n</template>\r\n\r\n<script>\r\nimport { itemCreate, itemEdit, itemDelete } from '../methods/ItemOperations.mjs';\r\nexport default {\r\n  setup() {\r\n    return {\r\n      itemCreate,\r\n      itemEdit,\r\n      itemDelete\r\n    }\r\n  },\r\n  name: 'ActorFeatures',\r\n  props: ['context', 'actor'],\r\n  computed: {\r\n    data() {\r\n      return this.actor;\r\n    },\r\n    itemBase() {\r\n      return {\r\n        name: 'New Feature',\r\n        type: 'feature',\r\n        data: {}\r\n      }\r\n    }\r\n  },\r\n  methods: {}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  // Styles defined here will be scoped to this component only.\r\n  // .v3boilerplate .items-list {\r\n  //   .item-name {\r\n  //     color: red;\r\n  //   }\r\n  // }\r\n</style>","<template>\r\n  <div :class=\"'tab ' + tab.key + (tab.active ? ' active' : '')\" :data-group=\"group\" :data-tab=\"tab.key\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Tab',\r\n  props: ['context', 'actor', 'tab', 'group'],\r\n  computed: {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","export function onRollable(event) {\r\n  event.preventDefault();\r\n  const element = event.currentTarget ?? event.target;\r\n  const dataset = element.dataset;\r\n  const actor = this.context ? game.actors.get(this.context.actor.id) : null;\r\n\r\n  // Handle item rolls.\r\n  if (dataset.rollType) {\r\n    if (dataset.rollType == 'item' && actor) {\r\n      const itemId = element.closest('.item').dataset.itemId;\r\n      const item = actor.items.get(itemId);\r\n      if (item) return item.roll();\r\n    }\r\n  }\r\n\r\n  // Handle rolls that supply the formula directly.\r\n  if (dataset.roll) {\r\n    let label = dataset.label ? `[roll] ${dataset.label}` : '';\r\n    let rollData = actor ? actor.getRollData() : {};\r\n    let roll = new Roll(dataset.roll, rollData);\r\n\r\n    roll.toMessage({\r\n      speaker: actor ? ChatMessage.getSpeaker({ actor: actor }) : null,\r\n      flavor: label,\r\n      rollMode: game.settings.get('core', 'rollMode'),\r\n    });\r\n    return roll;\r\n  }\r\n}","export function numberFormat(value, dec = 0, sign = false) {\r\n  value = parseFloat(value).toFixed(dec);\r\n  if (sign ) return ( value >= 0 ) ? `+${value}` : value;\r\n  return value;\r\n}","<template>\r\n  <Tab group=\"primary\" :tab=\"tab\">\r\n    <section class=\"grid grid-3col\">\r\n      <aside class=\"sidebar\">\r\n\r\n        <div class=\"abilities flexcol\">\r\n          <div v-for=\"(ability, key) in context.system.abilities.physical\" :key=\"'system.abilities.physical.' + key + '.value'\" :data-key=\"key\" class=\"ability flexrow flex-group-center\">\r\n            <label @click=\"onRollable\" :for=\"'system.abilities.physical.' + key + '.value'\" class=\"ability-label physicalLabel resource-label rollable flexlarge align-left\" :data-roll=\"'3d6-@abilities.physical.' + key + '.mod'\" :data-label=\"ability.label\">{{ability.label}}</label>\r\n            <input type=\"text\" :name=\"'system.abilities.' + key + '.value'\" v-model=\"ability.value\" data-dtype=\"Number\"/>\r\n            <span class=\"ability-mod rollable\" :data-roll=\"'3d6-@abilities.physical.' + key + '.mod'\" :data-label=\"ability.label\">{{numberFormat(ability.mod, 0, true)}}</span>\r\n          </div>\r\n          <div v-for=\"(ability, key) in context.system.abilities.mental\" :key=\"'system.abilities.mental.' + key + '.value'\" :data-key=\"key\" class=\"ability flexrow flex-group-center\">\r\n            <label @click=\"onRollable\" :for=\"'system.abilities.mental.' + key + '.value'\" class=\"ability-label mentalLabel resource-label rollable flexlarge align-left\" :data-roll=\"'3d6-@abilities.mental.' + key + '.mod'\" :data-label=\"ability.label\">{{ability.label}}</label>\r\n            <input type=\"text\" :name=\"'system.abilities.' + key + '.value'\" v-model=\"ability.value\" data-dtype=\"Number\"/>\r\n            <span class=\"ability-mod rollable\" :data-roll=\"'3d6-@abilities.mental.' + key + '.mod'\" :data-label=\"ability.label\">{{numberFormat(ability.mod, 0, true)}}</span>\r\n          </div>\r\n        </div>\r\n      </aside>\r\n\r\n      <section class=\"main grid-span-2\">\r\n        <ActorFeatures :context=\"context\" :actor=\"actor\"/>\r\n      </section>\r\n\r\n    </section>\r\n  </Tab>\r\n</template>\r\n\r\n<script>\r\nimport { default as ActorFeatures } from '../parts/ActorFeatures.vue';\r\nimport { default as Tab } from '../parts/Tab.vue';\r\nimport { onRollable } from '../methods/Events.mjs';\r\nimport { numberFormat } from '../methods/Helpers.mjs';\r\nexport default {\r\n  setup({context}) {\r\n    return {\r\n      context,\r\n      onRollable,\r\n      numberFormat\r\n    }\r\n  },\r\n  name: 'Features',\r\n  props: ['context', 'actor', 'tab'],\r\n  components: {\r\n    ActorFeatures,\r\n    Tab\r\n  },\r\n  data() {\r\n    return this.context;\r\n  },\r\n  computed: {\r\n    \r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","<template>\r\n  <div class=\"editor-wrapper\">\r\n    <div class=\"editor\">\r\n      <div class=\"editor-content\" :data-edit=\"target\" v-html=\"enrichHTML()\"></div>\r\n      <a class=\"editor-edit\" v-if=\"canEdit\"><i class=\"fas fa-edit\"></i></a>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Edtior',\r\n  props: ['owner', 'target', 'content', 'button', 'editable', 'documents', 'links', 'rolls', 'rollData'],\r\n  data() {\r\n    return {\r\n      canEdit: false\r\n    }\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    enrichHTML() {\r\n      const button = Boolean(this.button);\r\n      const editable = Boolean(this.editable);\r\n      this.canEdit = (button && editable);\r\n      const editor = TextEditor.enrichHTML(this.content || '', {\r\n        secrets: this.owner,\r\n        documents: this.documents ?? true,\r\n        links: this.links ?? true,\r\n        rolls: this.rolls ?? true,\r\n        rollData: this.rollData ?? {}\r\n      });\r\n      return editor;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .sheet {\r\n    .editor-wrapper,\r\n    .editor,\r\n    .editor-content {\r\n      height: 100%;\r\n    }\r\n  }\r\n</style>","<template>\r\n  <Tab group=\"primary\" :tab=\"tab\">\r\n    <Editor\r\n      button=\"true\"\r\n      target=\"data.biography\"\r\n      :content=\"context.data.biography\"\r\n      :rollData=\"context.rollData\"\r\n      :owner=\"context.owner\"\r\n      :editable=\"context.editable\"\r\n    />\r\n  </Tab>\r\n</template>\r\n\r\n<script>\r\nimport { default as Tab } from '../parts/Tab.vue';\r\nimport { default as Editor } from '../parts/Editor.vue';\r\nexport default {\r\n  name: 'Bio',\r\n  props: ['context', 'actor', 'tab'],\r\n  computed: {\r\n    data() {\r\n      return this.actor;\r\n    }\r\n  },\r\n  components: {\r\n    Tab,\r\n    Editor\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","<template>\r\n  <Tab group=\"primary\" :tab=\"tab\">\r\n    <ol class=\"items-list\">\r\n      <li class=\"item flexrow items-header\">\r\n        <div class=\"item-name\">Name</div>\r\n        <div class=\"item-controls\">\r\n          <a @click=\"itemCreate(context.actor._id, itemBase)\" class=\"item-control item-create\" title=\"Create item\" data-type=\"item\"><i class=\"fas fa-plus\"></i> Add item</a>\r\n        </div>\r\n      </li>\r\n      <li v-for=\"(item, id) in context.gear\" :key=\"'data.items.' + id\" class=\"item flexrow\" :data-item-id=\"item._id\">\r\n        <div class=\"item-name\">\r\n          <div class=\"item-image\">\r\n            <a class=\"rollable\" data-roll-type=\"item\"><img :src=\"item.img\" :title=\"item.name\" width=\"24\" height=\"24\"/></a>\r\n          </div>\r\n          <h4>{{item.name}}</h4>\r\n        </div>\r\n        <div class=\"item-formula item-prop\">{{item.data.formula ?? ''}}</div>\r\n        <div class=\"item-controls\">\r\n          <a @click=\"itemEdit(context.actor._id, item._id)\" class=\"item-control item-edit\" title=\"Edit Item\"><i class=\"fas fa-edit\"></i></a>\r\n          <a @click=\"itemDelete(context.actor._id, item._id)\" class=\"item-control item-delete\" title=\"Delete Item\"><i class=\"fas fa-trash\"></i></a>\r\n        </div>\r\n      </li>\r\n    </ol>\r\n  </Tab>\r\n</template>\r\n\r\n<script>\r\nimport { default as Tab } from '../parts/Tab.vue';\r\nimport { itemCreate, itemEdit, itemDelete } from '../methods/ItemOperations.mjs';\r\nexport default {\r\n  setup() {\r\n    return {\r\n      itemCreate,\r\n      itemEdit,\r\n      itemDelete\r\n    }\r\n  },\r\n  name: 'Items',\r\n  props: ['context', 'actor', 'tab'],\r\n  computed: {\r\n    data() {\r\n      return this.actor;\r\n    },\r\n    itemBase() {\r\n      return {\r\n        name: 'New Item',\r\n        type: 'item',\r\n        data: {}\r\n      }\r\n    }\r\n  },\r\n  methods: {},\r\n  components: {\r\n    Tab\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","<template>\r\n  <Tab group=\"primary\" :tab=\"tab\">\r\n    <ol class=\"items-list\">\r\n      <template v-for=\"(spells, spellLevel) in context.spells\" :key=\"'data.spells.' + spellLevel\" >\r\n        <li class=\"item flexrow items-header\">\r\n          <div class=\"item-name\">Level {{spellLevel}}</div>\r\n          <div class=\"item-controls\">\r\n            <a @click=\"itemCreate(context.actor._id, modifiedItemBase(spellLevel))\" class=\"item-control item-create\" title=\"Create item\" data-type=\"spell\" :data-spell-level=\"spellLevel\"><i class=\"fas fa-plus\"></i> Add item</a>\r\n          </div>\r\n        </li>\r\n        <li v-for=\"(item, id) in spells\" :key=\"'data.spells.' + spellLevel + '.' + id\" class=\"item flexrow\" :data-item-id=\"item._id\">\r\n          <div class=\"item-name\">\r\n            <div class=\"item-image\">\r\n              <a class=\"rollable\" data-roll-type=\"item\"><img :src=\"item.img\" :title=\"item.name\" width=\"24\" height=\"24\"/></a>\r\n            </div>\r\n            <h4>{{item.name}}</h4>\r\n          </div>\r\n          <div class=\"item-controls\">\r\n            <a @click=\"itemEdit(context.actor._id, item._id)\" class=\"item-control item-edit\" title=\"Edit Item\"><i class=\"fas fa-edit\"></i></a>\r\n            <a @click=\"itemDelete(context.actor._id, item._id)\" class=\"item-control item-delete\" title=\"Delete Item\"><i class=\"fas fa-trash\"></i></a>\r\n          </div>\r\n        </li>\r\n      </template>\r\n    </ol>\r\n  </Tab>\r\n</template>\r\n\r\n<script>\r\nimport { default as Tab } from '../parts/Tab.vue';\r\nimport { itemCreate, itemEdit, itemDelete } from '../methods/ItemOperations.mjs';\r\nexport default {\r\n  setup() {\r\n    return {\r\n      itemCreate,\r\n      itemEdit,\r\n      itemDelete\r\n    }\r\n  },\r\n  name: 'Spells',\r\n  props: ['context', 'actor', 'tab'],\r\n  computed: {\r\n    data() {\r\n      return this.actor;\r\n    },\r\n    itemBase() {\r\n      return {\r\n        name: 'New Spell',\r\n        type: 'spell',\r\n        data: {}\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    modifiedItemBase(spellLevel) {\r\n      let result = this.itemBase;\r\n      result.name = `New Level ${spellLevel ?? 1} Spell`;\r\n      result.data.spellLevel = spellLevel;\r\n      return result;\r\n    },\r\n  },\r\n  components: {\r\n    Tab\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","/**\r\n * Manage Active Effect instances through the Actor Sheet via effect control buttons.\r\n * @param {MouseEvent} event      The left-click event on the effect control\r\n * @param {Actor|Item} owner      The owning document which manages this effect\r\n */\r\n export function onManageActiveEffect(event, owner) {\r\n  event.preventDefault();\r\n  // Prefer currentTarget, but vue events will user target instead.\r\n  const a = event.currentTarget ?? event.target;\r\n  const li = a.closest(\"li\");\r\n  const effect = li.dataset.effectId ? owner.effects.get(li.dataset.effectId) : null;\r\n  switch ( a.dataset.action ) {\r\n    case \"create\":\r\n      return owner.createEmbeddedDocuments(\"ActiveEffect\", [{\r\n        label: \"New Effect\",\r\n        icon: \"icons/svg/aura.svg\",\r\n        origin: owner.uuid,\r\n        \"duration.rounds\": li.dataset.effectType === \"temporary\" ? 1 : undefined,\r\n        disabled: li.dataset.effectType === \"inactive\"\r\n      }]);\r\n    case \"edit\":\r\n      return effect.sheet.render(true);\r\n    case \"delete\":\r\n      return effect.delete();\r\n    case \"toggle\":\r\n      return effect.update({disabled: !effect.data.disabled});\r\n  }\r\n}\r\n\r\n/**\r\n * Prepare the data structure for Active Effects which are currently applied to an Actor or Item.\r\n * @param {ActiveEffect[]} effects    The array of Active Effect instances to prepare sheet data for\r\n * @return {object}                   Data for rendering\r\n */\r\nexport function prepareActiveEffectCategories(effects, flatten = false) {\r\n\r\n    // Define effect header categories\r\n    const categories = {\r\n      temporary: {\r\n        type: \"temporary\",\r\n        label: \"Temporary Effects\",\r\n        effects: []\r\n      },\r\n      passive: {\r\n        type: \"passive\",\r\n        label: \"Passive Effects\",\r\n        effects: []\r\n      },\r\n      inactive: {\r\n        type: \"inactive\",\r\n        label: \"Inactive Effects\",\r\n        effects: []\r\n      }\r\n    };\r\n\r\n    // Iterate over active effects, classifying them into categories\r\n    for ( let e of effects ) {\r\n      const effect = flatten ? e.data.toObject(false) : e;\r\n      if (flatten) {\r\n        effect.sourceName = e.sourceName;\r\n        effect.duration = e.duration;\r\n      }\r\n      // Trigger a lookup for the source name\r\n      if ( e.data.disabled ) categories.inactive.effects.push(effect);\r\n      else if ( e.isTemporary ) categories.temporary.effects.push(effect);\r\n      else categories.passive.effects.push(effect);\r\n    }\r\n    return categories;\r\n}","<template>\r\n  <Tab group=\"primary\" :tab=\"tab\">\r\n    <ol class=\"items-list effects-list\">\r\n      <template v-for=\"(section, sid) in context.effects\" :key=\"'data.effects.' + sid\">\r\n        <li class=\"items-header flexrow\" :data-effect-type=\"section.type\">\r\n          <h3 class=\"item-name effect-name flexrow\">{{game.i18n.localize(section.label)}}</h3>\r\n          <div class=\"effect-source\">Source</div>\r\n          <div class=\"effect-source\">Duration</div>\r\n          <div class=\"item-controls effect-controls flexrow\">\r\n            <a @click=\"manageEffect\" data-action=\"create\" class=\"effect-control\" title=\"Create effect\"><i class=\"fas fa-plus\"></i> Add effect</a>\r\n          </div>\r\n        </li>\r\n\r\n        <ol class=\"item-list\">\r\n          <li v-for=\"(effect, id) in section.effects\" :key=\"'data.effects.' + sid + '.' + id\" class=\"item effect flexrow\" :data-effect-id=\"effect._id\">\r\n            <div class=\"item-name effect-name flexrow\">\r\n              <img class=\"item-image\" :src=\"effect.icon\" :title=\"effect.label\" width=\"24\" height=\"24\"/>\r\n              <h4>{{effect.label}}</h4>\r\n            </div>\r\n            <div class=\"effect-source\">{{effect.sourceName}}</div>\r\n            <div class=\"effect-duration\">{{effect.duration.label}}</div>\r\n            <div class=\"item-controls effect-controls flexrow\">\r\n              <a @click=\"manageEffect\" data-action=\"toggle\" class=\"effect-control\" title=\"Toggle Effect\">\r\n                <i :class=\"'fas ' + (effect.disabled ? 'fa-check' : 'fa-times')\"></i>\r\n              </a>\r\n              <a @click=\"manageEffect\" data-action=\"edit\" class=\"effect-control\" title=\"Edit Effect\">\r\n                <i class=\"fas fa-edit\"></i>\r\n              </a>\r\n              <a @click=\"manageEffect\" data-action=\"delete\" class=\"effect-control\" title=\"Delete Effect\">\r\n                <i class=\"fas fa-trash\"></i>\r\n              </a>\r\n            </div>\r\n          </li>\r\n        </ol>\r\n      </template>\r\n    </ol>\r\n  </Tab>\r\n</template>\r\n\r\n<script>\r\nimport { default as Tab } from '../parts/Tab.vue';\r\nimport { onManageActiveEffect } from '../../../module/helpers/effects.mjs';\r\nexport default {\r\n  name: 'ActiveEffects',\r\n  props: ['context', 'actor', 'tab'],\r\n  computed: {\r\n    // Add a computed property to use game.i18n.localize in templates.\r\n    game() {\r\n      return game;\r\n    }\r\n  },\r\n  methods: {\r\n    manageEffect(event) {\r\n      let owner = game.actors.get(this.context.actor._id);\r\n      if (owner) onManageActiveEffect(event, owner);\r\n    }\r\n  },\r\n  components: {\r\n    Tab\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","<template>\r\n  <Header :actor=\"context.actor\"/>\r\n  <Tabs :actor=\"context.actor\" group=\"primary\" :tabs=\"tabs.primary\"/>\r\n  <section class=\"sheet-body\">\r\n    <Features :context=\"context\" :actor=\"actor\" :tab=\"tabs.primary.features\"/>\r\n    <Bio :context=\"context\" :tab=\"tabs.primary.description\"/>\r\n    <Items :context=\"context\" :tab=\"tabs.primary.items\"/>\r\n    <Spells :context=\"context\" :tab=\"tabs.primary.spells\"/>\r\n    <ActiveEffects :context=\"context\" :tab=\"tabs.primary.effects\"/>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { default as Header } from './parts/Header.vue';\r\nimport { default as Tabs } from './parts/Tabs.vue';\r\nimport { default as Features } from './tabs/Features.vue';\r\nimport { default as Bio } from './tabs/Bio.vue';\r\nimport { default as Items } from './tabs/Items.vue';\r\nimport { default as Spells } from './tabs/Spells.vue';\r\nimport { default as ActiveEffects } from './tabs/ActiveEffects.vue';\r\nexport default {\r\n  name: 'CharacterSheet',\r\n  props: ['msg', 'actor', 'context'],\r\n  data(msg, actor, context) {\r\n    console.log('this is data() on the sheet.vue', this, msg, actor, context)\r\n    return {\r\n      tabs: {\r\n        primary: {\r\n          features: {\r\n            key: 'features',\r\n            active: true,\r\n            label: 'Features',\r\n          },\r\n          description: {\r\n            key: 'description',\r\n            active: false,\r\n            label: 'Description',\r\n          },\r\n          items: {\r\n            key: 'items',\r\n            active: false,\r\n            label: 'Items',\r\n          },\r\n          spells: {\r\n            key: 'spells',\r\n            active: false,\r\n            label: 'Spells',\r\n          },\r\n          effects: {\r\n            key: 'effects',\r\n            active: false,\r\n            label: 'Effects',\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    Header: Header,\r\n    Tabs: Tabs,\r\n    Features: Features,\r\n    Bio: Bio,\r\n    Items: Items,\r\n    Spells: Spells,\r\n    ActiveEffects: ActiveEffects\r\n  },\r\n  methods: {}\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nh3 {\r\n  margin: 40px 0 0;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\na {\r\n  color: #42b983;\r\n}\r\n</style>\r\n"],"names":["_export_sfc","sfc","props","target","key","val","_sfc_main","_hoisted_1","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_createElementVNode","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_12","_hoisted_13","_openBlock","_createElementBlock","$props","_cache","$event","_vModelText","_hoisted_7","$options","_hoisted_11","event","$target","k","v","tab","index","_Fragment","_renderList","tabKey","args","_normalizeClass","_toDisplayString","_hoisted_2","getItem","actorId","itemId","actor","item","itemCreate","itemBase","itemEdit","itemDelete","_withScopeId","_hoisted_15","_hoisted_18","$setup","id","_renderSlot","_ctx","onRollable","element","dataset","label","rollData","roll","numberFormat","value","dec","sign","context","ActorFeatures","Tab","_createBlock","_component_Tab","ability","_createVNode","_component_ActorFeatures","button","editable","$data","Editor","_component_Editor","_hoisted_14","_hoisted_16","_hoisted_19","spellLevel","result","spells","onManageActiveEffect","owner","a","li","effect","_hoisted_17","section","sid","msg","Header","Tabs","Features","Bio","Items","Spells","ActiveEffects","_component_Header","_component_Tabs","_component_Features","_component_Bio","_component_Items","_component_Spells","_component_ActiveEffects"],"mappings":"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"}